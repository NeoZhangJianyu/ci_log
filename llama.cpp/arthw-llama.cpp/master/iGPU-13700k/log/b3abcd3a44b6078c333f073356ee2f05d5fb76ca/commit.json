{"author": "Diego Devesa <slarengh@gmail.com>", "date": "2024-11-14 18:04:35", "title": "ggml : build backends as libraries", "pr_id": "10256", "files": [".devops/llama-cli-cuda.Dockerfile", ".devops/llama-cli-musa.Dockerfile", ".devops/llama-server-cuda.Dockerfile", ".devops/llama-server-musa.Dockerfile", ".devops/nix/package.nix", ".github/workflows/build.yml", ".gitmodules", "CMakeLists.txt", "Makefile", "Package.swift", "cmake/llama-config.cmake.in", "common/common.cpp", "docs/build.md", "examples/llama-bench/llama-bench.cpp", "examples/quantize-stats/quantize-stats.cpp", "ggml/CMakeLists.txt", "ggml/include/ggml-amx.h", "ggml/include/ggml-backend.h", "ggml/include/ggml-blas.h", "ggml/include/ggml-cann.h", "ggml/include/ggml-cpu.h", "ggml/include/ggml-cuda.h", "ggml/include/ggml-kompute.h", "ggml/include/ggml-metal.h", "ggml/include/ggml-rpc.h", "ggml/include/ggml-sycl.h", "ggml/include/ggml-vulkan.h", "ggml/include/ggml.h", "ggml/src/CMakeLists.txt", "ggml/src/ggml-aarch64.c", "ggml/src/ggml-aarch64.h", "ggml/src/ggml-amx/CMakeLists.txt", "ggml/src/ggml-amx/common.h", "ggml/src/ggml-amx/ggml-amx.cpp", "ggml/src/ggml-amx/mmq.cpp", "ggml/src/ggml-backend-reg.cpp", "ggml/src/ggml-backend.cpp", "ggml/src/ggml-blas/CMakeLists.txt", "ggml/src/ggml-blas/ggml-blas.cpp", "ggml/src/ggml-cann/CMakeLists.txt", "ggml/src/ggml-cann/ggml-cann.cpp", "ggml/src/ggml-cpu/CMakeLists.txt", "ggml/src/ggml-cpu/cmake/FindSIMD.cmake", "ggml/src/ggml-cpu/ggml-cpu-aarch64.c", "ggml/src/ggml-cpu/ggml-cpu-aarch64.h", "ggml/src/ggml-cpu/ggml-cpu-impl.h", "ggml/src/ggml-cpu/ggml-cpu-quants.c", "ggml/src/ggml-cpu/ggml-cpu-quants.h", "ggml/src/ggml-cpu/ggml-cpu.c", "ggml/src/ggml-cpu/ggml-cpu.cpp", "ggml/src/ggml-cpu/llamafile/sgemm.cpp", "ggml/src/ggml-cpu/llamafile/sgemm.h", "ggml/src/ggml-cuda/CMakeLists.txt", "ggml/src/ggml-cuda/common.cuh", "ggml/src/ggml-cuda/fattn-common.cuh", "ggml/src/ggml-cuda/fattn-tile-f16.cu", "ggml/src/ggml-cuda/fattn-tile-f32.cu", "ggml/src/ggml-cuda/fattn-vec-f16.cuh", "ggml/src/ggml-cuda/fattn-vec-f32.cuh", "ggml/src/ggml-cuda/fattn-wmma-f16.cuh", "ggml/src/ggml-cuda/ggml-cuda.cu", "ggml/src/ggml-cuda/mmq.cuh", "ggml/src/ggml-cuda/mmvq.cu", "ggml/src/ggml-cuda/sum.cu", "ggml/src/ggml-hip/CMakeLists.txt", "ggml/src/ggml-impl.h", "ggml/src/ggml-kompute/CMakeLists.txt", "ggml/src/ggml-kompute/ggml-kompute.cpp", "ggml/src/ggml-kompute/kompute", "ggml/src/ggml-kompute/kompute-shaders/common.comp", "ggml/src/ggml-kompute/kompute-shaders/op_add.comp", "ggml/src/ggml-kompute/kompute-shaders/op_addrow.comp", "ggml/src/ggml-kompute/kompute-shaders/op_cpy_f16_f16.comp", "ggml/src/ggml-kompute/kompute-shaders/op_cpy_f16_f32.comp", "ggml/src/ggml-kompute/kompute-shaders/op_cpy_f32_f16.comp", "ggml/src/ggml-kompute/kompute-shaders/op_cpy_f32_f32.comp", "ggml/src/ggml-kompute/kompute-shaders/op_diagmask.comp", "ggml/src/ggml-kompute/kompute-shaders/op_gelu.comp", "ggml/src/ggml-kompute/kompute-shaders/op_getrows.comp", "ggml/src/ggml-kompute/kompute-shaders/op_getrows_f16.comp", "ggml/src/ggml-kompute/kompute-shaders/op_getrows_f32.comp", "ggml/src/ggml-kompute/kompute-shaders/op_getrows_q4_0.comp", "ggml/src/ggml-kompute/kompute-shaders/op_getrows_q4_1.comp", "ggml/src/ggml-kompute/kompute-shaders/op_getrows_q6_k.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mat_f16.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mat_mat_f32.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mat_q4_0.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mat_q4_1.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mat_q4_k.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mat_q6_k.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mat_q8_0.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mv_q_n.comp", "ggml/src/ggml-kompute/kompute-shaders/op_mul_mv_q_n_pre.comp", "ggml/src/ggml-kompute/kompute-shaders/op_norm.comp", "ggml/src/ggml-kompute/kompute-shaders/op_relu.comp", "ggml/src/ggml-kompute/kompute-shaders/op_rmsnorm.comp", "ggml/src/ggml-kompute/kompute-shaders/op_rope_f16.comp", "ggml/src/ggml-kompute/kompute-shaders/op_rope_f32.comp", "ggml/src/ggml-kompute/kompute-shaders/op_scale.comp", "ggml/src/ggml-kompute/kompute-shaders/op_scale_8.comp", "ggml/src/ggml-kompute/kompute-shaders/op_silu.comp", "ggml/src/ggml-kompute/kompute-shaders/op_softmax.comp", "ggml/src/ggml-kompute/kompute-shaders/rope_common.comp", "ggml/src/ggml-metal/CMakeLists.txt", "ggml/src/ggml-metal/ggml-metal.m", "ggml/src/ggml-metal/ggml-metal.metal", "ggml/src/ggml-musa/CMakeLists.txt", "ggml/src/ggml-quants.c", "ggml/src/ggml-quants.h", "ggml/src/ggml-rpc/CMakeLists.txt", "ggml/src/ggml-rpc/ggml-rpc.cpp", "ggml/src/ggml-sycl/CMakeLists.txt", "ggml/src/ggml-sycl/ggml-sycl.cpp", "ggml/src/ggml-threading.cpp", "ggml/src/ggml-threading.h", "ggml/src/ggml-vulkan/CMakeLists.txt", "ggml/src/ggml-vulkan/ggml-vulkan.cpp", "ggml/src/ggml-vulkan/vulkan-shaders/CMakeLists.txt", "ggml/src/ggml-vulkan/vulkan-shaders/acc.comp", "ggml/src/ggml-vulkan/vulkan-shaders/add.comp", "ggml/src/ggml-vulkan/vulkan-shaders/argsort.comp", "ggml/src/ggml-vulkan/vulkan-shaders/clamp.comp", "ggml/src/ggml-vulkan/vulkan-shaders/concat.comp", "ggml/src/ggml-vulkan/vulkan-shaders/contig_copy.comp", "ggml/src/ggml-vulkan/vulkan-shaders/copy.comp", "ggml/src/ggml-vulkan/vulkan-shaders/cos.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_f32.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_funcs.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_head.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_iq4_nl.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q2_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q3_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q4_0.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q4_1.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q4_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q5_0.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q5_1.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q5_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q6_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/dequant_q8_0.comp", "ggml/src/ggml-vulkan/vulkan-shaders/diag_mask_inf.comp", "ggml/src/ggml-vulkan/vulkan-shaders/div.comp", "ggml/src/ggml-vulkan/vulkan-shaders/gelu.comp", "ggml/src/ggml-vulkan/vulkan-shaders/gelu_quick.comp", "ggml/src/ggml-vulkan/vulkan-shaders/generic_binary_head.comp", "ggml/src/ggml-vulkan/vulkan-shaders/generic_head.comp", "ggml/src/ggml-vulkan/vulkan-shaders/generic_unary_head.comp", "ggml/src/ggml-vulkan/vulkan-shaders/get_rows.comp", "ggml/src/ggml-vulkan/vulkan-shaders/get_rows_quant.comp", "ggml/src/ggml-vulkan/vulkan-shaders/group_norm.comp", "ggml/src/ggml-vulkan/vulkan-shaders/im2col.comp", "ggml/src/ggml-vulkan/vulkan-shaders/leaky_relu.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_split_k_reduce.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec_base.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec_nc.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec_p021.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec_q2_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec_q3_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec_q4_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec_q5_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mat_vec_q6_k.comp", "ggml/src/ggml-vulkan/vulkan-shaders/mul_mm.comp", "ggml/src/ggml-vulkan/vulkan-shaders/norm.comp", "ggml/src/ggml-vulkan/vulkan-shaders/pad.comp", "ggml/src/ggml-vulkan/vulkan-shaders/pool2d.comp", "ggml/src/ggml-vulkan/vulkan-shaders/relu.comp", "ggml/src/ggml-vulkan/vulkan-shaders/repeat.comp", "ggml/src/ggml-vulkan/vulkan-shaders/rms_norm.comp", "ggml/src/ggml-vulkan/vulkan-shaders/rope_head.comp", "ggml/src/ggml-vulkan/vulkan-shaders/rope_neox.comp", "ggml/src/ggml-vulkan/vulkan-shaders/rope_norm.comp", "ggml/src/ggml-vulkan/vulkan-shaders/scale.comp", "ggml/src/ggml-vulkan/vulkan-shaders/silu.comp", "ggml/src/ggml-vulkan/vulkan-shaders/sin.comp", "ggml/src/ggml-vulkan/vulkan-shaders/soft_max.comp", "ggml/src/ggml-vulkan/vulkan-shaders/square.comp", "ggml/src/ggml-vulkan/vulkan-shaders/sum_rows.comp", "ggml/src/ggml-vulkan/vulkan-shaders/tanh.comp", "ggml/src/ggml-vulkan/vulkan-shaders/timestep_embedding.comp", "ggml/src/ggml-vulkan/vulkan-shaders/types.comp", "ggml/src/ggml-vulkan/vulkan-shaders/upscale.comp", "ggml/src/ggml-vulkan/vulkan-shaders/vulkan-shaders-gen.cpp", "ggml/src/ggml.c", "pocs/vdot/vdot.cpp", "src/CMakeLists.txt", "src/llama.cpp", "tests/test-quantize-fns.cpp", "tests/test-quantize-perf.cpp"]}